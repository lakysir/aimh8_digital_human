"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js");Math;const n={onLaunch(){console.log("App onLaunch")},onShow(){console.log("App onShow"),this.checkLogin()},onHide(){console.log("App onHide")},methods:{async checkLogin(){try{const n=e.index.getStorageSync("phoneNum");if(console.log(n),n.length>=3){const o=await e.index.request({url:"https://www.aimh8.com/wechat_index.php",method:"POST",data:{phoneLogin:n}});console.log(o),o.data.code>=0?(e.index.setStorageSync("nicename",o.data.nicename),e.index.setStorageSync("benefit",o.data.benefit),e.index.setStorageSync("user_type",o.data.user_type),e.index.setStorageSync("upid",o.data.upid),e.index.setStorageSync("partner_id",o.data.partner_id)):(e.index.showToast({title:"登录失败:"+o.data.msg,icon:"none"}),e.index.setStorageSync("phoneNum",""))}}catch(n){console.error("检查登录状态失败:",n)}finally{e.index.hideLoading()}}}};function o(){return{app:e.createSSRApp(n)}}o().app.mount("#app"),exports.createApp=o;
