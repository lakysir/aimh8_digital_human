"use strict";const t=require("../../common/vendor.js"),e={__name:"index",setup(e){const a=t.ref([]),o=t.index.getStorageSync("phoneNum"),n=t.index.getStorageSync("user_id");t.onMounted((()=>{(async()=>{t.index.showLoading({title:"加载中...",mask:!0});try{const e=await t.index.request({url:"https://www.aimh8.com/wechat_index.php",method:"POST",data:{getOwnerApprovalDocuments:!0,username:o,user_id:n}});if(console.log(e),e.data.code>=0){console.log(e.data.documents_list);const o=e.data.documents_list.map((t=>({document_id:t[0],title:t[1],filepath:t[2],approval_status:t[3],create_time:t[5],muban_id:t[6],operator_id:t[7],operation:t[8]})));a.value=o,t.index.hideLoading()}else t.index.showToast({title:"加载失败",icon:"none"})}catch(e){t.index.showToast({title:"网络错误",icon:"none"})}})()}));return(e,o)=>({a:t.f(a.value,((e,a,o)=>({a:t.t(e.operation),b:t.t(e.title),c:t.t(e.create_time),d:t.t(1==e.approval_status?"待审批":2==e.approval_status?"已拒绝":3==e.approval_status?"合成中":4==e.approval_status?"已合成":"未知状态"),e:1==e.approval_status?1:"",f:3==e.approval_status?1:"",g:2==e.approval_status?1:"",h:4==e.approval_status?1:"",i:a,j:t.o((a=>(e=>{t.index.navigateTo({url:`/pages/document/detail?document_id=${e.document_id}`})})(e)),a)})))})}};wx.createPage(e);
